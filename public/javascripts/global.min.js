let global={init:{init:void 0},compressImage:void 0,readImage:void 0,subscribe:void 0,textGlitch:void 0,validateEmail:void 0};global.init.init=()=>{nav.init.init(),document.querySelector("footer")&&footer.init.init()},global.subscribe=e=>new Promise((async(t,a)=>{let i;try{i=(await axios.post("/notification/subscribe-email",{email:e})).data}catch(e){i={status:"error",content:e}}return"succeeded"===i.status||"failed"===i.status?t(i.content):a(i.status)})),global.textGlitch=(e,t,a)=>{a.innerHTML=t[e],a.setAttribute("data-text",t[e]),setTimeout((function(){a.classList.remove("glitch"),setTimeout((function(){a.classList.add("glitch"),setTimeout((function(){(e+=1)>=t.length&&(e=0),textSequence(e,t,id)}),100+100*Math.random())}),500+1500*Math.random())}),50+50*Math.random())},global.validateEmail=e=>""===e?"empty":/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())?"valid":"invalid",global.compressImage=async(e="",t="",a=300)=>{const i=document.getElementById(`${e}`);let o=new FormData(i);for(let e of o.keys()){o.getAll(e)}const n=o.getAll(t);let s=[];for(let e=0;e<n.length;e++){const t=n[e];let i=await global.readImage(t,a),o=await new Promise((e=>{i.toBlob(e,"image/jpeg",.92)})),l=new File([o],t.name,{type:"image/jpeg",lastModified:Date.now()});s.push(l)}o.set(t,s[0]);for(let e of o.keys()){o.getAll(e)}return o},global.readImage=async(e,t)=>{let a,i,o,n=document.createElement("canvas"),s=document.createElement("img");return s.src=await new Promise((t=>{let a=new FileReader;a.readAsDataURL(e),a.onload=e=>t(e.target.result)})),await new Promise((e=>{s.onload=e})),s.height>=s.width&&s.height>t?(o=t/s.height,a=t,i=s.width*o):s.height<s.width&&s.width>t?(o=t/s.width,i=t,a=s.height*o):(i=s.width,a=s.height),n.width=i,n.height=a,n.getContext("2d").drawImage(s,0,0,i,a),n};const imageLoader=e=>new Promise((async(t,a)=>{let i=[],o=[];for(let t=0;t<e.length;t++){const a=e[t];let n=new Image;n.decoding="async",n.src=a.src,a.classes&&n.classList.add(...a.classes),i.push(n.decode()),o.push(n)}try{await Promise.all(i)}catch(e){return void a(e)}for(let t=0;t<e.length;t++){const a=e[t],i=o[t];i.id=a.id,i.alt=a.alt,document.querySelector(`#${a.parentId}`).insertAdjacentElement("afterbegin",i)}t()})),updateSessionPage=()=>{const e="/"+window.location.href.toString().split("/").slice(3).join("/");window.sessionStorage.page=e};